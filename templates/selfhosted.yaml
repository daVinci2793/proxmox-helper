# Donetick Self-Hosted Configuration
# Generated by installer on $(date)
# For more options, see: https://github.com/donetick/donetick/blob/main/config/selfhosted.yaml.dist

name: "selfhosted"
is_done_tick_dot_com: false
is_user_creation_disabled: false

# Database Configuration
database:
  type: "sqlite"
  migration: true

# JWT Authentication
jwt:
  secret: "${JWT_SECRET}"
  session_time: 168h
  max_refresh: 168h

# Server Configuration
server:
  port: 2021
  read_timeout: 10s
  write_timeout: 10s
  rate_period: 60s
  rate_limit: 300
  cors_allow_origins:
    - "http://localhost:5173"
    - "http://localhost:7926"
    - "https://localhost"
    - "capacitor://localhost"
  serve_frontend: true

# Logging Configuration
logging:
  level: "info"
  encoding: "json"
  development: false

# Scheduler Jobs
scheduler_jobs:
  due_job: 30m
  overdue_job: 3h
  pre_due_job: 3h

# Email Configuration
email:
  host:
  port:
  key:
  email:
  appHost:

# OAuth2 Configuration
oauth2:
  client_id:
  client_secret:
  auth_url:
  token_url:
  user_info_url:
  redirect_url:
  name:

# Real-time Configuration
realtime:
  enabled: true
  websocket_enabled: false
  sse_enabled: true
  heartbeat_interval: 60s
  connection_timeout: 120s
  max_connections: 1000
  max_connections_per_user: 5
  event_queue_size: 2048
  cleanup_interval: 2m
  stale_threshold: 5m
  enable_compression: true
  enable_stats: true
  allowed_origins:
    - "*"
